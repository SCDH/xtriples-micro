<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." name="test" default="test">

    <property name="xspec.version" value="2.2.4"/>

    <property name="xspec.project.dir" value="target/dependency/xspec-${xspec.version}"/>

    <property name="xspec.properties" location="../../system.properties"/>

    <property name="xspec.project.dir" location="../../xspec"/>

    <include file="${xspec.project.dir}/build.xml"/>

    <echo>basedir: ${basedir}</echo>
    <echo>using XSpec ${xspec.version}</echo>

    <echo>classpath: ${java.class.path}</echo>
    <echo>ext.dirs: ${java.ext.dirs}</echo>

    <!-- default rule: run all tests -->
    <target name="test">
        <antcall target="test-xsl-xtriples.xsl"/>
        <antcall target="test-xsl-collection.xsl"/>
    </target>

    <target name="test-xsl-xtriples.xsl">
        <antcall target="xspec.xspec" inheritall="false">
            <param name="xspec.xml" location="${basedir}/xsl/xtriples.xspec"/>
        </antcall>
    </target>

    <target name="test-xsl-collection.xsl">
        <antcall target="xspec.xspec" inheritall="false">
            <param name="xspec.xml" location="${basedir}/xsl/collection.xspec"/>
        </antcall>
    </target>

</project>
